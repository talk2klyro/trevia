<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trevia Templates | Tier 2</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary:#ff6f61;
    --accent:#ffcc00;
    --bg:#f5f5f5;
    --text:#111827;
    --muted:#6b7280;
    --radius:12px;
    --shadow:0 4px 20px rgba(0,0,0,0.1);
  }

  * {margin:0;padding:0;box-sizing:border-box;}
  body {font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);}

  header {
    background:#fff;
    padding:20px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:var(--shadow);
    position:sticky;
    top:0;
    z-index:10;
  }
  header .logo {font-weight:700;font-size:1.6rem;color:var(--primary);}
  nav a {margin-left:20px;color:var(--text);font-weight:500;text-decoration:none;transition:0.3s;}
  nav a:hover {color:var(--primary);}

  main {padding:60px 20px;}
  h1{text-align:center;font-size:2.8rem;margin-bottom:40px;color:var(--primary);}
  
  /* Template Grid */
  #templatesGrid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:30px;
    max-width:1200px;
    margin:0 auto;
  }
  .template-card {
    background:#fff;
    border-radius:var(--radius);
    overflow:hidden;
    box-shadow:var(--shadow);
    position:relative;
    cursor:pointer;
    transition:transform 0.3s, box-shadow 0.3s;
  }
  .template-card:hover {transform:translateY(-6px);box-shadow:0 10px 35px rgba(0,0,0,0.15);}
  .template-card img {width:100%;height:180px;object-fit:cover;display:block;}
  
  /* Overlay with template name */
  .overlay {
    position:absolute;
    bottom:0;
    width:100%;
    background:rgba(0,0,0,0.6);
    color:#fff;
    padding:10px;
    text-align:center;
    font-weight:600;
    opacity:0;
    transition:opacity 0.3s;
  }
  .template-card:hover .overlay {opacity:1;}

  /* Preview Button */
  .url-button {
    position:absolute;
    top:10px;
    right:10px;
    background:var(--accent);
    color:#111;
    padding:6px 12px;
    border-radius:6px;
    font-weight:600;
    text-decoration:none;
    font-size:0.85rem;
    transition:all 0.3s;
  }
  .url-button:hover {transform:scale(1.05);box-shadow:0 4px 12px rgba(0,0,0,0.2);}

  footer {
    text-align:center;
    padding:40px 20px;
    font-size:14px;
    color:var(--muted);
    border-top:1px solid #e5e7eb;
    margin-top:60px;
  }

  @media(max-width:768px){
    h1{font-size:2rem;}
  }
</style>
</head>
<body>

<header>
  <div class="logo">Trevia</div>
  <nav>
    <a href="#templatesGrid">Templates</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<main>
  <h1>Tier 2 Templates Gallery</h1>
  <div id="templatesGrid">
    <!-- Dynamically populated from template.json -->
  </div>
</main>

<footer>
  &copy; <span id="year"></span> Trevia Templates
</footer>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  fetch('template.json')
    .then(res => res.json())
    .then(data => {
      const grid = document.getElementById('templatesGrid');
      data.templates.forEach(t => {
        const card = document.createElement('div');
        card.className = 'template-card';

        const img = document.createElement('img');
        // Use WordPress mshots for automatic thumbnail
        img.src = `https://s.wordpress.com/mshots/v1/${encodeURIComponent(t.url)}?w=600`;
        img.alt = t.name;

        const overlay = document.createElement('div');
        overlay.className = 'overlay';
        overlay.textContent = t.name;

        const btn = document.createElement('a');
        btn.href = t.url;
        btn.target = "_blank";
        btn.className = 'url-button';
        btn.textContent = "Preview";

        card.appendChild(img);
        card.appendChild(overlay);
        card.appendChild(btn);
        grid.appendChild(card);
      });
    })
    .catch(err => console.error('Failed to load templates:', err));
</script>

</body>
</html>
