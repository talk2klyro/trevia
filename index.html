<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trevia Templates | Tiered Gallery</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary:#ff6f61;
    --accent:#ffcc00;
    --bg:#f5f5f5;
    --text:#111827;
    --muted:#6b7280;
    --radius:12px;
    --shadow:0 4px 20px rgba(0,0,0,0.1);
  }

  * {margin:0;padding:0;box-sizing:border-box;}
  body {font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);}

  header {
    background:#fff;
    padding:20px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:var(--shadow);
    position:sticky;
    top:0;
    z-index:10;
  }
  header .logo {font-weight:700;font-size:1.6rem;color:var(--primary);}
  nav a {margin-left:20px;color:var(--text);font-weight:500;text-decoration:none;transition:0.3s;}
  nav a:hover {color:var(--primary);}

  main {padding:60px 20px;}
  h1{text-align:center;font-size:2.8rem;margin-bottom:40px;color:var(--primary);}
  h2{margin:40px 0 20px;text-align:center;color:var(--primary);}
  
  .tier-section {max-width:1200px;margin:0 auto;}
  #templatesGrid {display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;}

  .template-card {
    background:#fff;
    border-radius:var(--radius);
    overflow:hidden;
    box-shadow:var(--shadow);
    position:relative;
    cursor:pointer;
    transition:transform 0.3s, box-shadow 0.3s;
  }
  .template-card:hover {transform:translateY(-6px) scale(1.02);box-shadow:0 10px 35px rgba(0,0,0,0.2);}
  .template-card img {width:100%;height:180px;object-fit:cover;display:block;transition:transform 0.3s;}
  .template-card:hover img {transform:scale(1.05);}
  
  .overlay {
    position:absolute;
    bottom:0;
    width:100%;
    background:rgba(0,0,0,0.6);
    color:#fff;
    padding:10px;
    text-align:center;
    font-weight:600;
    opacity:0;
    transition:opacity 0.3s;
  }
  .template-card:hover .overlay {opacity:1;}

  .url-button {
    position:absolute;
    top:10px;
    right:10px;
    background:var(--accent);
    color:#111;
    padding:6px 12px;
    border-radius:6px;
    font-weight:600;
    text-decoration:none;
    font-size:0.85rem;
    transition:all 0.3s;
  }
  .url-button:hover {transform:scale(1.05);box-shadow:0 4px 12px rgba(0,0,0,0.2);}

  .price-badge {
    position:absolute;
    top:10px;
    left:10px;
    background:var(--primary);
    color:#fff;
    padding:6px 12px;
    border-radius:6px;
    font-weight:600;
    font-size:0.85rem;
  }

  .scarcity {
    position:absolute;
    bottom:50px;
    width:100%;
    text-align:center;
    color:#ffcc00;
    font-weight:700;
    font-size:0.9rem;
  }

  footer {
    text-align:center;
    padding:40px 20px;
    font-size:14px;
    color:var(--muted);
    border-top:1px solid #e5e7eb;
    margin-top:60px;
  }

  @media(max-width:768px){h1{font-size:2rem;}}
</style>
</head>
<body>

<header>
  <div class="logo">Trevia</div>
  <nav>
    <a href="#tier1">Tier 1</a>
    <a href="#tier2">Tier 2</a>
    <a href="#tier3">Tier 3</a>
  </nav>
</header>

<main>
  <h1>Trevia Templates Gallery</h1>

  <div id="tier1" class="tier-section">
    <h2>Tier 1 – Essential <span style="color:var(--muted);">(Affordable, great for starters)</span></h2>
    <div id="templatesGrid1" class="templatesGrid"></div>
  </div>

  <div id="tier2" class="tier-section">
    <h2>Tier 2 – Professional <span style="color:var(--muted);">(Most popular choice)</span></h2>
    <div id="templatesGrid2" class="templatesGrid"></div>
  </div>

  <div id="tier3" class="tier-section">
    <h2>Tier 3 – Premium <span style="color:var(--muted);">(Exclusive, limited availability)</span></h2>
    <div id="templatesGrid3" class="templatesGrid"></div>
  </div>
</main>

<footer>
  &copy; <span id="year"></span> Trevia Templates
</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

fetch('template.json')
  .then(res => {
    if(!res.ok) throw new Error('Network response was not ok');
    return res.json();
  })
  .then(data => {
    if(!data.templates || !data.templates.length) {
      document.querySelectorAll('.templatesGrid').forEach(grid => {
        grid.innerHTML = '<p style="text-align:center;color:var(--muted);">No templates available.</p>';
      });
      return;
    }

    // Divide by tiers
    const tiers = {1: [], 2: [], 3: []};
    data.templates.forEach(t => { tiers[t.tier].push(t); });

    // Function to render a tier
    function renderTier(templates, containerId) {
      const grid = document.getElementById(containerId);
      templates.forEach(t => {
        const card = document.createElement('div');
        card.className = 'template-card';
        card.innerHTML = `
          <img loading="lazy" src="https://s.wordpress.com/mshots/v1/${encodeURIComponent(t.url)}?w=600" alt="${t.name}">
          <div class="overlay">${t.name}</div>
          <a href="${t.url}" target="_blank" class="url-button">Preview</a>
          <div class="price-badge">₦${t.price.toLocaleString()}</div>
        `;
        // Add scarcity to premium templates
        if(t.tier === 3 && Math.random() < 0.5) {
          const scarcity = document.createElement('div');
          scarcity.className = 'scarcity';
          scarcity.textContent = 'Only a few left!';
          card.appendChild(scarcity);
        }
        grid.appendChild(card);
      });
    }

    renderTier(tiers[1], 'templatesGrid1');
    renderTier(tiers[2], 'templatesGrid2');
    renderTier(tiers[3], 'templatesGrid3');
  })
  .catch(err => {
    console.error('Failed to load templates:', err);
    document.querySelectorAll('.templatesGrid').forEach(grid => {
      grid.innerHTML = '<p style="text-align:center;color:var(--muted);">Failed to load templates.</p>';
    });
  });
</script>

</body>
</html>
